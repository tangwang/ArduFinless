# 01｜飞控与空气动力基础（入门版）

## 1. 飞控系统在做什么？

飞控本质是一个实时闭环系统：
1. **感知状态**（传感器）：我现在姿态/角速度/侧滑如何？
2. **比较目标**（控制指令）：我希望机体如何运动？
3. **执行控制**（舵面/电机）：该给多大控制量？
4. **再次感知**：看结果是否逼近目标。

这套机制在 ArduFinless 里非常清晰：
- 状态来自编码器角度和陀螺仪角速度。
- 指令来自 RC 的 Yaw 与 Brake 通道。
- 执行来自左右阻力舵 PWM 输出。

## 2. 为什么“无副翼飞翼”要重视侧滑角？

与常见舵面方案相比，阻力舵更依赖偏航通道的气动效果。此时：
- 侧滑角（Beta）体现“机体与来流不一致”的程度。
- 偏航角速度（Yaw Rate）体现“当前偏航动态趋势”。

控制中同时用 Beta 和 Yaw Rate，既能纠偏，又能加阻尼，减少“摆振感”。

## 3. PWM 是什么？

在 RC 系统中，通道值常用脉宽表达：
- 约 1000us：最小
- 约 1500us：中位
- 约 2000us：最大

本项目把输入脉宽归一化为约 `[-1, 1]` 控制量，后续控制律统一按无量纲变量处理。

## 4. 低通滤波：为什么需要？

传感器和 RC 输入都有抖动，如果直接进控制律，舵机会“发抖”或过度频繁响应。

一阶低通核心形式：
\[
y[n] = \alpha x[n] + (1-\alpha)y[n-1]
\]

- 截止频率高：响应快、滤波弱。
- 截止频率低：响应慢、滤波强。

工程上要在“平滑”与“延迟”之间平衡。

## 5. 控制增益怎么理解？

你可以把增益理解为“反应力度旋钮”：
- `Cn_beta`：对侧滑角误差的反应强度。
- `Cn_damper`：对偏航角速度的阻尼强度。

一般规律（仅入门经验）：
- `Cn_beta` 太小：纠偏慢、风中易飘。
- `Cn_beta` 太大：易过冲或振荡。
- `Cn_damper` 太小：阻尼不足、摆动明显。
- `Cn_damper` 太大：动作发“闷”，响应被压制。

## 6. 入门者常见误区

1. 一上来就猛加增益（高风险）。
2. 传感器零偏没校好就开始飞。
3. 舵机方向和通道映射没确认就上桨。
4. 没有记录调参过程（导致无法复盘）。

请把“安全检查 + 小步修改 + 记录结果”当作飞控学习的基本纪律。
